package frame;

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import model.person; // Assuming you have a person class representing person data

public class EditPro extends JDialog {
    private JTextField personnameField;
    private JPasswordField passwordField;
    private JTextField nameField;
    private JTextField dobField;
    private JTextField phoneField;
    private JTextField idCardField;
    private JTextField pointField;
    
    private person person; // The person whose profile is being edited

    public EditPro(Frame owner, person person) {
        super(owner, "Edit Profile", true);
        this.person = person;

        setLayout(new GridLayout(8, 2));
        add(new JLabel("personname:"));
        personnameField = new JTextField(person.getpersonname());
        add(personnameField);

        add(new JLabel("Password:"));
        passwordField = new JPasswordField(person.getPassword());
        add(passwordField);

        add(new JLabel("Name:"));
        nameField = new JTextField(person.getName());
        add(nameField);

        add(new JLabel("Date of Birth:"));
        dobField = new JTextField(person.getDob());
        add(dobField);

        add(new JLabel("Phone:"));
        phoneField = new JTextField(person.getPhone());
        add(phoneField);

        add(new JLabel("ID Card:"));
        idCardField = new JTextField(person.getIdCard());
        add(idCardField);

        add(new JLabel("Point:"));
        pointField = new JTextField(String.valueOf(person.getPoint()));
        add(pointField);

        JButton saveButton = new JButton("Save Changes");
        JButton cancelButton = new JButton("Cancel");

        saveButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                saveChanges();
            }
        });

        cancelButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                dispose();
            }
        });

        add(saveButton);
        add(cancelButton);

        pack();
        setLocationRelativeTo(owner);
    }

    private void saveChanges() {
        // Validate and save changes to person profile
        Person.setpersonname(personnameField.getText());
        Person.setPassword(new String(passwordField.getPassword()));
        Person.setName(nameField.getText());
        Person.setDob(dobField.getText());
        Person.setPhone(phoneField.getText());
        Person.setIdCard(idCardField.getText());
        .setPoint(Integer.parseInt(pointField.getText()));

        JOptionPane.showMessageDialog(this, "Profile updated successfully!");
        dispose(); // Close the dialog after saving
    }
}
