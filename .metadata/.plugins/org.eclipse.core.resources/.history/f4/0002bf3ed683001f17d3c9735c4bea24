package frame;

public CustomerFrame(Store store, LoginFrame loginFrame, String userName) { 
    super(store);  
    this.cart = new ArrayList<>(); 
    this.loginFrame = loginFrame; 

    setTitle("Customer Frame");
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    setLocationRelativeTo(null);

    // Show a greeting dialog after login
    JOptionPane.showMessageDialog(this, "Hello, " + userName + "!", "Welcome", JOptionPane.INFORMATION_MESSAGE);

    JPanel buttonPanel = new JPanel();
    JButton addToCartButton = new JButton("Add to Cart");
    JButton viewCartButton = new JButton("View Cart");
    JButton checkoutButton = new JButton("Check out");
    JButton logoutButton = new JButton("Log out");
    buttonPanel.add(addToCartButton);
    buttonPanel.add(viewCartButton);
    buttonPanel.add(checkoutButton);
    buttonPanel.add(logoutButton);
    add(buttonPanel, BorderLayout.SOUTH);

    addToCartButton.addActionListener(new ActionListener() {
        @Override
        public void actionPerformed(ActionEvent e) {
            addToCart();
        }
    });

    viewCartButton.addActionListener(new ActionListener() {
        @Override
        public void actionPerformed(ActionEvent e) {
            viewCart();
        }
    });

    checkoutButton.addActionListener(new ActionListener() {
        @Override
        public void actionPerformed(ActionEvent e) {
            checkout();
        }
    });

    logoutButton.addActionListener(new ActionListener() {
        @Override
        public void actionPerformed(ActionEvent e) {
            logout();
        }
    });

    displayAllProducts();
}
